if [[ $(sysctl -n machdep.cpu.brand_string) =~ "Apple" ]]
then
  eval "$(/opt/homebrew/bin/brew shellenv)"
  eval "$(/opt/homebrew/bin/mise activate bash --shims)"
else
  eval "$(/usr/local/bin/brew shellenv)"
  eval "$(/usr/local/bin/mise activate bash --shims)"
fi

# https://rustup.rs/
. "$HOME/.cargo/env"

# PATH
export PATH="$HOME/opt/bin:$PATH"
export PATH="$HOME/opt/bin/depot_tools:$PATH"
export PATH="$HOME/.local/bin:$PATH"
export PATH="$HOME/bin:$PATH"
export PATH="$HOME/.pub-cache/bin:$PATH"
export PATH="$HOME/Library/Android/sdk/tools:$PATH"
export PATH="$HOME/Library/Android/sdk/tools/bin:$PATH"
export PATH="$HOME/Library/Android/sdk/platform-tools:$PATH"
export PATH="$HOME/.maestro/bin:$PATH"
export PATH="/Applications/Visual Studio Code.app/Contents/Resources/app/bin:$PATH"
export PATH="$HOME/.antigravity/antigravity/bin:$PATH"

# ENV
export LANG="ko_KR.UTF-8"
export EDITOR=nvim
export GO111MODULE=on
export CLOUDSDK_PYTHON_SITEPACKAGES=1
export USE_GKE_GCLOUD_AUTH_PLUGIN=True
export NO_PROXY=localhost,127.0.0.1
export NODE_OPTIONS="--max-old-space-size=8096"
export ANDROID_HOME="$HOME/Library/Android/sdk"

# pnpm
export PNPM_HOME="$HOME/Library/pnpm"
case ":$PATH:" in
  *":$PNPM_HOME:"*) ;;
  *) export PATH="$PNPM_HOME:$PATH" ;;
esac

# https://ccache.dev/
if command -v ccache &> /dev/null
then
  export PATH="/opt/homebrew/opt/ccache/libexec:$PATH"
  export CCACHE_SLOPPINESS=clang_index_store,file_stat_matches,include_file_ctime,include_file_mtime,ivfsoverlay,pch_defines,modules,system_headers,time_macros
  export CCACHE_FILECLONE=true
  export CCACHE_DEPEND=true
  export CCACHE_INODECACHE=true
fi

[ -f "$HOME/.ghcup/env" ] && . "$HOME/.ghcup/env" # ghcup-env
export PATH="$HOME/.elan/bin:$PATH"
